{{template "base" .}}

{{define "title"}}monitor{{end}}


{{define "main"}}
<dev class="row">
  <div class="col-sm-1"></div>
  <div class="col-sm-6">
    <h3>Adjustment File</h3>
    <p>If it is desired to override the constants in the program, a yaml file
      must be added to the application base directory.  For this base direcotry
      to be accessible, the environment variable EME_Base must be set to point
      to it.  A sample file is provided below:
      </p>
      <pre>
      <code>
        ---
           absZero: 273.15
           calTemp: 25.0
           calVoltage: 2.982
           airFactor: 1.002
           sinkFactor: 1.007
           plusFive: 4.94
           maxAtoD: 1023.0
           maxPower: 250.0
           maxPowerIndicator: 5.0
        </code>
        </pre>
        <p>This file will override all the constants in the program.  So, none of
          the parameters listed above can be skipped.  The error checking is
          limited, so be careful, all values have to parse to 64 bit floating numbers.
          </p>
  </div>
  </dev>
<hr><hr>
<div class="row">
  <div class="col-sm-1"></div>
  <div class="col-sm-4">
<h3>Temperature Sensors</h3>
<p>
  The two temperature sensors (air and heatsink) are Texas Instruments LM235 devices
  in a TO92 package.  They are used without calibration.  Per the
  datasheet, they generate 2.982 volts of output at 25 degrees C.
  </p>

  <p>The equation for the output is:</p>
  <div>$$ \begin{array}&V  = \frac {V _{0}}{T _{0}} T\end{array}$$</div>
  <p> Where T is the temperature in degrees Kelvin, $T _{0}$ is the calibration
    temperature in degrees Kelvin (25 degrees C plus 273.15), $V _{0}$ the
    output voltage at the calibration temperature (2.982 volts) and $V$ is
    the output voltage at temparture $T$.
    </p>
    <p>Hence the displayed temperature will be a result of:</p>
    <div>$$\begin{array} &t = \frac {25+273.15}{2.982} V - 273.15\end{array}$$</div>
    <p>Where t is now in degrees C. </p>
    <p>But V is not directly measured.  It is the output of an A/D convertor
      where full scale is 1023 equivalent to the nominal +5 volt power supply.  Hence: </p>
      <div>$$\begin{array} &V = \frac {A/D \ Reference}{1023}\times A/D \ Output \end{array}$$
  </div>
  <p>A/D Reference is either the 5 volt supply provided by the USB connector
    or if the Arduino Nano is run from a 12 volts supply, it is its own generated
    5 volts reference.  In either case, the reference voltage must
    be measued by a precise voltmeter. The built in value
    is the 5 volt reference internally generated by the Arduino.
    </p>
  </div>
  <div class="col-sm-2"></div>
  <div class="col-sm-4">
    <h3>Power Sensor</h3>
    <p>Amplifier output ranges from 0 to 250 watts.  It provides an indicator
      output proportional to the output power that ranges from zero to 5 volts.
      Zero represents no output and 5 volts represents 250 watts.  The relationship
      is almost linear.  If necessary, in the future, we can add compensation
      for the non linearity in a yaml fine or equivalent.
      </p>
      <div>$$\begin{array}&P = \frac {A/D \ Reference}{1023}\times A/D \ output \times
        \frac {Max \ Power}{Max \ Power \ Indicator}\end{array}$$</div>
      <p>Where P is power in watts and A/D reference is as described in temperature sensors section,
        Max Power is 250 watts, and Max Power Indicator is 5 volts.
        </p>
    </div>
  </div>

{{end}}
